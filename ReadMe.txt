// これは何？
BonDriverProxyのサーバ側にBonDriver自動選択機能を加えたものです。
dll側はバイナリ互換なので、BonDriverProxyの物を使用できます。

BonDriverProxyとの設定方法の違いは、まずサーバ側のiniで、
---
[BONDRIVER]
00=PT-T;BonDriver_PT3-T0.dll;BonDriver_PT3-T1.dll
01=PT-S;BonDriver_PT3-S0.dll;BonDriver_PT3-S1.dll
---
の様な感じでチューナ空間とチャンネルの対応が同一のBonDriverを「;」区切りで並べます。
＃なので、グループ名やファイル名に「;」は使えません
BonDriverのグループは「00」「01」「02」...と言う連番で指定し、
個々のグループのフォーマットは
「グループ名;ドライバ1;ドライバ2;ドライバ3...」
と言う感じになります。
グループ名は必須です。

クライアント側のiniでは、
---
[OPTION]
BONDRIVER=PT-T
---
の様な感じで、サーバ側iniのどのBonDriverグループを使用するか設定します。
＃機能の要件上、一つのグループに二つ以上のドライバが設定されている場合、
＃クライアントからはそれらの内どれが使われるかは制御できなくなります

それら以外の設定は、元のBonDriverProxyと同じです。

グループ内のどのBonDriverを選択するかのアルゴリズムは、
・最初のリクエストではとりあえず可能であれば未使用の物を、それが無理ならなるべくチャンネルロックされていない
  物を優先して選択
・チャンネル変更時、同一グループの中で、既に目的のチャンネルを開いているのがいたらそれを共有
  その際、現在自分が持っているインスタンスは、他者と共有されていない限り開放する
・共有状態からのチャンネル変更時は、最初のリクエストと同じ
・チャンネルロックされているインスタンスを共有している時のチャンネル変更は、未使用かチャンネルロックされていない
  インスタンスがある場合は使用インスタンスをそっちに切り替えて変更、無い場合は変更できない

こんな感じでしょうか？他にあるかな…
ぶっちゃけ自分でも書いてて訳がわからなくなってますが、実際テストパターンの網羅性にイマイチ自信が持ててないので、
何かしらバグがある可能性は高めです。
よっしゃテストしたるわ、という方がいたら追試していただけたらと思います。

ライセンス等に関しては元のBonDriverProxyと同じなので、そちらのReadMe.txtを確認してくださいね。

Jun/10/2014 unknown <unknown_@live.jp>

// 更新履歴
version 1.1.2.0 (Jun/19/2014)
	・SetChannel()内で、GetTsStream()でアプリに返したバッファを解放してしまうBonDriverを読み込んだ場合、
	  タイミングが悪いと解放後メモリにアクセスしてしまう可能性があったのに対応
	・その他ロジックは(ほぼ)変更無しでのソースコード整形

version 1.1.1.0 (Jun/10/2014)
	・初版リリース
